<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chaining then method :</title>

    <style>
        .output {
            margin: 20px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f9f9f9;
            color: #333;
        }
    </style>
  </head>
  <body>
    <h3>Chaining then :</h3>
    <code>
      <pre>
            function asyncFunc1(){

                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        console.log('data 1 ');
                        resolve('Async function 1 successful');
                    }, 4000);
                });
            }
        
            function asyncFunc2(){
        
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        console.log('data 2 ');
                        resolve('Async function 2 successful');
                    }, 4000);
                });
            }
        
            /*
            console.log('fetching Data 1...')
            let p1 = new asyncFunc1();
            p1.then((res)=>{
                console.log(res);
                
                let p2 = asyncFunc2();
                console.log("fetching Data 2...")
                p2.then((res)=>{
                    console.log(res);
                });
            });
            */
        
           asyncFunc1().then((res)=>{
                console.log(res);
                
                console.log("fetching Data 2...")
                asyncFunc2().then((res)=>{
                    console.log(res);
                });
            });
        </pre>
        <div class="output">
            <img src="./images/img1.png" alt="" srcset="">
        </div>
    </code>
  </body>
  <script>
    function asyncFunc1() {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          console.log("data 1 ");
          resolve("Async function 1 successful");
        }, 4000);
      });
    }

    function asyncFunc2() {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          console.log("data 2 ");
          resolve("Async function 2 successful");
        }, 4000);
      });
    }

    /*
    console.log('fetching Data 1...')
    let p1 = new asyncFunc1();
    p1.then((res)=>{
        console.log(res);
        
        let p2 = asyncFunc2();
        console.log("fetching Data 2...")
        p2.then((res)=>{
            console.log(res);
        });
    });
    */

    asyncFunc1().then((res) => {
      console.log(res);

      console.log("fetching Data 2...");
      asyncFunc2().then((res) => {
        console.log(res);
      });
    });
  </script>
</html>
